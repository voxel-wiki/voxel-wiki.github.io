{# NOTE: This file MUST NOT contain ANY line-breaks, else shortcode inlining wont work properly. #}{% if not id %}{{ throw(message="Missing id for definition shortcode.") }}{% endif %}{% set defs = load_data(path="@/definitions.toml") %}{% if id not in defs %}{% set message = "Definition-Id '" ~ id ~ "' does not exist. Check definitions file?" %}{{ throw(message=message) }}{% endif %}{% set def = defs[id] %}{% set link = link | default(value=true) %}{% if def.link and link %}<a href="{{ def.link | safe }}" target="_blank"><abbr {% if id %}id="{{ id }}"{% endif %} title="{{ def.text | safe }}">{{ def.abbr | default(value=body) | default(value=id) | markdown(inline=true) }}</abbr></a>{% else %}<abbr {% if id %}id="{{ id }}"{% endif %} title="{{ def.text | safe }}">{{ def.abbr | default(value=body) | default(value=id) | safe }}</abbr>{% endif %}